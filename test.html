<head>
 <button onclick="addCard(1)">voeg kaart toe</button>
 <button onclick="addCard(2)">+2</button>
 <button onclick="addCard(4)">+4</button>
    <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)">
      <img class="zoom" id="stapel">
    </div>




    <style>
    #div1{
    width:350px;
    height:100px;
    padding:10px;
    border: 1px solid #aaaaaa;


    }
.zoom {
  padding: 0px;
  transition: transform .2s; /* Animation */
  width: 100px;
  margin: 0 auto;
}

.zoom:hover {
  transform: scale(1.5); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
}
</style>
</head>



<p id="test"></p>

<div class="column" id="player1">
</div>
<div class="column" id="player2">
</div>


<script>
  for(var i = 0; i < 7; i++){
    document.getElementById("player1").innerHTML+='<img class ="zoom" draggable ="true" ondragstart="drag(event)" id="a' + i + '">';
    document.getElementById("player2").innerHTML+='<img class ="zoom" draggable ="true" ondragstart="drag(event)" id="b' + i + '">';

  }
</script>




<script>
let beurtOverSlaan = [2,15,39,54];
let aantalSpelers = 2;
let players = new Array(aantalSpelers);
for (var i = 0; i < aantalSpelers; i++) {
  players[i] = [];
}
window.onload = startGame;

function choosePic() {

for(var i=0; i < 7; i++){
  document.getElementById("a" + i).src = players[0][i] +".png";
  document.getElementById("b" + i).src = players[1][i] +".png";
}

}


let wieIsAanDeBeurt = false;

function startGame(){


for(let i = 0; i<7; i++){
var randomNum = Math.floor(Math.random() * 54 + 1 );
players[0].push(randomNum);
var randomNum = Math.floor(Math.random() * 54 + 1 );
players[1].push(randomNum);

console.log(players[i]);
console.log(players[i]);
choosePic();
}
}


function checkBeurtOverslaan(kaartGetrokken){

return beurtOverSlaan.includes(kaartGetrokken);

}




function addCard(aantalKaarten){
//sla beurt over
if(wieIsAanDeBeurt == false){

for (var i = 0; i < aantalKaarten; i++) {
  let nieuweId = players[0].length +1;
  let nieuweIdString ="af" + nieuweId;
  let oldLength = players[0].length;
   document.getElementById("player1").innerHTML+='<img class ="zoom" draggable ="true" ondragstart="drag(event)" id="'+nieuweIdString + '">';
   var randomNum = Math.floor(Math.random() * 54 + 1 );
   players[0].push(randomNum);
   document.getElementById(nieuweIdString).src =players[0][players[0].length-1] +".png";
   console.log(players[0][players[0].length-1]);
}



wieIsAanDeBeurt = true;

}else{

for (var i = 0; i < aantalKaarten; i++) {
  let nieuweId = players[1].length +1;
  let nieuweIdString ="al" + nieuweId;
  let oldLength = players[1].length;
   document.getElementById("player2").innerHTML+='<img class ="zoom" draggable ="true" ondragstart="drag(event)" id="'+nieuweIdString + '">';
   var randomNum = Math.floor(Math.random() * 54 + 1 );
   players[1].push(randomNum);
   document.getElementById(nieuweIdString).src =players[1][players[1].length-1] +".png";
   //console.log(player1[player1.length-1])
}


wieIsAanDeBeurt = false;

}



}

function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  var data = ev.dataTransfer.getData("text");
  //ev.target.appendChild(document.getElementById(data));
  document.getElementById("stapel").src = document.getElementById(data).src;
  document.getElementById(data).remove();


let bron  = "" + document.getElementById("stapel").src;
//console.log(bron);
console.log(bron.match(/\d+/g));
console.log(checkBeurtOverslaan(+bron.match(/\d+/g)[0]))
if(checkBeurtOverslaan(+bron.match(/\d+/g)[0])){

  wieIsAanDeBeurt = wieIsAanDeBeurt;

}else{
  wieIsAanDeBeurt != wieIsAanDeBeurt;

}
console.log(wieIsAanDeBeurt);
}
</script>
